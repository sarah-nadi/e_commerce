
<section class="bg-main-light p-2 rounded-2 w-75 mx-auto shadow my-3">
    <h1 class="text-main">Login Now :</h1>
    @if(resText){
        <p class="alert alert-danger p-2 text-center rounded w-50 mx-auto">
            {{resText}}
        </p>
    }

    <form [formGroup]="loginForm" (ngSubmit)="loginUser()">
      
       <div class="my-2">
        <label class="mb-1" for="email"><span class="text-danger">*</span> Email:</label>
        <input 
        [ngClass]="{
            'is-valid' :!loginForm.get('email')?.errors &&( loginForm.get('email')?.touched || loginForm.get('email')?.dirty),
            'is-invalid' : loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty),
        }"formControlName="email" type="email" placeholder="ex:sarah@gmail.com" id="eamil" class="form-control">

        @if(loginForm.get('email')?.errors && loginForm.get('email')?.touched){
            <div class="alert alert-warning my-2 p-2 fs-6 fw-bold rounded-2">
                @if(loginForm.get('email')?.getError('required')){
                    <p class="m-0">Email Is Required</p>
                }
                @if(loginForm.get('email')?.getError('email')){
                    <p class="m-0">Email format is not correct</p>
                }
                
                
    
            </div>
        }

        
       </div>
       <div class="my-2">
        <label class="mb-1" for="password"><span class="text-danger">*</span> Password:</label>
        <input [ngClass]="{
            'is-valid' :!loginForm.get('password')?.errors &&( loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
            'is-invalid' : loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
        }"
        
         formControlName="password" type="password"  id="password" class="form-control">

        @if(loginForm.get('password')?.errors && loginForm.get('password')?.touched){
            <div class="alert alert-warning my-2 p-2 fs-6 fw-bold rounded-2">
                @if(loginForm.get('password')?.getError('required')){
                    <p class="m-0">Password Is Required</p>
                }
                @if(loginForm.get('password')?.getError('pattern')){
                    <p class="m-0">Password must be at least 6 characters</p>
                }
                
                
    
            </div>
        }

       </div>
     
     

       <button [disabled]="loginForm.invalid" class="btn-main w-50 mx-auto d-block">Login  
        @if(loading){<span><i class="fa-solid fa-circle-notch fa-spin"></i></span>}
       </button>
    </form>

    <div>
        <h3 class="fs-5 ms-2 cursor-pointer fw-bold mt-3" (click)="forgetPass()">forget Your Password ?</h3>
    </div>

</section>